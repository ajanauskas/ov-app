<table class="table table-striped">
  <thead>
    <th class="col-sm-2">
      <%= Team.human_attribute_name(:name) %>
    </th>
    <th class="col-sm-1">
    </th>
  </thead>
  <tbody>
    <% teams.each do |team| %>
      <tr>
        <td>
          <%= team.name %>
        </td>
        <td>
          <% if defined?(user) && @current_user == user %>
            <% team_member = user.team_members.find { |tm| tm.team_id == team.id } %>

            <% if render.include? :change && team_member %>
              <%= link_to t('teams.change'),
                          my_team_member_path(team_member),
                          data: { method: :put },
                          class: 'btn btn-primary' %>
            <% end %>

            <% if render.include? :leave %>
              <%= link_to t('teams.leave'),
                          my_team_member_path(team_member),
                          data: { method: :delete },
                          class: 'btn btn-danger' %>
            <% end %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
